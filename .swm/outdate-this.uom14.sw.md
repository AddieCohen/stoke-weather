---
id: uom14
name: outdate this
file_version: 1.0.2
app_version: 0.7.4-0
file_blobs:
  src/features/weather-data/weather-middleware.ts: 411fa9c0b214b79e65d7624edf905bbd808b52fb
---

a snippettt
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/features/weather-data/weather-middleware.ts
```typescript
â¬œ 2      import {setMessage, setPosition, setWeatherForecast} from './weather-data-slice';
â¬œ 3      
â¬œ 4      
ðŸŸ© 5      export const getWeatherMiddleware = (storeApi: any) => (next: Function) => async (action: any) => {
ðŸŸ© 6          if (action.type === 'weatherData/setPosition') {
ðŸŸ© 7              const response = await fetchWeather(action.payload) as any
ðŸŸ© 8              if (!!response.cod && response.cod !== 200) {
ðŸŸ© 9                  storeApi.dispatch(setMessage(response.message));
ðŸŸ© 10             } else {
ðŸŸ© 11                 storeApi.dispatch(setMessage(''));
ðŸŸ© 12                 storeApi.dispatch(setWeatherForecast(response));
ðŸŸ© 13             }
ðŸŸ© 14         }
ðŸŸ© 15     
ðŸŸ© 16         return next(action);
ðŸŸ© 17     }
ðŸŸ© 18     
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://swimm.io/link?l=c3dpbW0lM0ElMkYlMkZyZXBvcyUyRloybDBhSFZpSlROQkpUTkJjM1J2YTJVdGQyVmhkR2hsY2lVelFTVXpRVUZrWkdsbFEyOW9aVzQlM0QlMkZkb2NzJTJGdW9tMTQ=).