---
id: uom14
name: outdate this
file_version: 1.0.2
app_version: 0.7.4-0
file_blobs:
  src/features/weather-data/weather-middleware.ts: ca580d2baff0660c31c1e2c01c5ce48a1bfffbd9
---

a snippettt
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/features/weather-data/weather-middleware.ts
```typescript
â¬œ 1      import {fetchPosition, fetchWeather} from './weather-api';
â¬œ 2      import {setMessage, setPosition, setWeatherForecast} from './weather-data-slice';
â¬œ 3      
ðŸŸ© 4      export const getPositionMiddleware = (storeApi: any) => (next: Function) => async (action: any) => {
ðŸŸ© 5          if (action.type === 'weatherData/setCityName') {
ðŸŸ© 6              const response = await fetchPosition(action.payload) as any
ðŸŸ© 7              if (response.cod !== 200) {
ðŸŸ© 8                  storeApi.dispatch(setMessage(response.message));
ðŸŸ© 9              } else {
ðŸŸ© 10                 storeApi.dispatch(setMessage(''));
ðŸŸ© 11                 storeApi.dispatch(setPosition({lat: response.coord.lat, long: response.coord.lon}));
ðŸŸ© 12             }
ðŸŸ© 13         }
ðŸŸ© 14     
ðŸŸ© 15         return next(action);
ðŸŸ© 16     }
â¬œ 17     
â¬œ 18     export const getWeatherMiddleware = (storeApi: any) => (next: Function) => async (action: any) => {
â¬œ 19         if (action.type === 'weatherData/setPosition') {
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://swimm-web-app.web.app/repos/Z2l0aHViJTNBJTNBc3Rva2Utd2VhdGhlciUzQSUzQUFkZGllQ29oZW4=/docs/uom14).