---
id: dx106
name: local flow test doc
file_version: 1.0.2
app_version: 0.6.6-0
file_blobs:
  src/features/weather-data/weather-api.ts: 9564fdadc897f81bd5b42a739ee00155d7c46e21
---

local doc test

<br/>

this fetches the weather from the openweather api
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/features/weather-data/weather-api.ts
```typescript
â¬œ 4      const API_PATH = `https://api.openweathermap.org/data/2.5/`;
â¬œ 5      const PATH_END = `&appid=${API_KEY}&units=metric`;
â¬œ 6      
ðŸŸ© 7      export function fetchPosition(cityName: string): Promise<string> {
ðŸŸ© 8          return fetch(`${API_PATH}weather?q=${cityName.trim()}${PATH_END}`)
ðŸŸ© 9              .then(value => value.json())
ðŸŸ© 10     }
â¬œ 11     
â¬œ 12     export function fetchWeather(position: Position): Promise<string> {
â¬œ 13         return fetch(`${API_PATH}onecall?lat=${position.lat}&lon=${position.long}${PATH_END}`)
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://swimm.io/link?l=c3dpbW0lM0ElMkYlMkZyZXBvcyUyRloybDBhSFZpSlROQkpUTkJjM1J2YTJVdGQyVmhkR2hsY2lVelFTVXpRVUZrWkdsbFEyOW9aVzQlM0QlMkZkb2NzJTJGZHgxMDY=).